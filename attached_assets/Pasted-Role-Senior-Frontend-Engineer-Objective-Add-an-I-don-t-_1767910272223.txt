Role: Senior Frontend Engineer Objective: Add an "I don't know" option to Quote Builder fields that triggers a "Request for Information" (RFI) email draft.

1. SCHEMA: UPDATE ZOD (shared/schema.ts)

Action: Update the enums to include the ask_client option.

Code:

TypeScript

export const quoteFormSchema = z.object({
  // ... existing fields ...

  // Update enums to include 'ask_client'
  includeMep: z.enum(["yes", "no", "partial", "ask_client"], {
    errorMap: () => ({ message: "Select MEP scope" }) 
  }),
  includeRoof: z.enum(["yes", "no", "ask_client"], {
    errorMap: () => ({ message: "Select Roof scope" }) 
  }),
  occupiedStatus: z.enum(["vacant", "occupied", "construction", "ask_client"], {
    errorMap: () => ({ message: "Select site status" }) 
  }),
});
2. UI: THE RFI GENERATOR (client/src/pages/QuoteBuilder.tsx)

Action: Add logic to detect "ask_client" values and show a dynamic "Draft Email" card.

Code:

TypeScript

import { Mail, Copy } from "lucide-react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Textarea } from "@/components/ui/textarea";

export default function QuoteBuilder() {
  // ... existing form setup ...
  const values = form.watch(); // Watch all field changes

  // Detect "I don't know" selections
  const unknownFields = Object.entries(values).filter(([key, val]) => val === "ask_client");
  const hasUnknowns = unknownFields.length > 0;

  // Generate the Draft Email Text
  const rfiEmailBody = `
Hi [Client Name],

I'm working on your quote for the scanning project. To ensure we give you the most accurate price, could you clarify a few details?

${unknownFields.map(([key]) => { if (key === 'includeMep') return "- Do you need MEP (Mechanical/Electrical/Plumbing) modeled, or just the architecture?"; if (key === 'includeRoof') return "- Do you need the Roof captured/modeled?"; if (key === 'occupiedStatus') return "- Is the site currently vacant, occupied, or under construction?"; return - Please clarify: ${key}; }).join('\n')}

Thanks! `.trim();

  return (
    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
      {/* LEFT: THE FORM */}
      <div className="lg:col-span-2">
        <Form {...form}>
           {/* ... Existing Fields ... */}
           {/* Add SelectItem value="ask_client" to dropdowns */}
           <SelectItem value="ask_client">I don't know (Ask Client)</SelectItem>
        </Form>
      </div>

      {/* RIGHT: THE RFI ASSISTANT */}
      <div className="lg:col-span-1 space-y-4">
         {hasUnknowns && (
           <Card className="border-orange-200 bg-orange-50 sticky top-4">
             <CardHeader className="pb-2">
               <CardTitle className="text-orange-800 flex items-center gap-2 text-sm">
                 <Mail className="h-4 w-4" />
                 Clarification Needed
               </CardTitle>
             </CardHeader>
             <CardContent>
               <p className="text-xs text-orange-700 mb-2">
                 You selected "I don't know" for {unknownFields.length} items. Send this to the client:
               </p>
               <Textarea 
                 readOnly 
                 value={rfiEmailBody} 
                 className="bg-white text-xs h-48 font-mono mb-2" 
               />
               <Button 
                 size="sm" 
                 className="w-full bg-orange-600 hover:bg-orange-700"
                 onClick={() => navigator.clipboard.writeText(rfiEmailBody)}
               >
                 <Copy className="mr-2 h-3 w-3" />
                 Copy Email to Clipboard
               </Button>
             </CardContent>
           </Card>
         )}
      </div>
    </div>
  );
}
```
How this works:
The "Safety Valve": The sales rep isn't forced to guess. They click "I don't know."

The "Helper": The sidebar instantly generates a perfectly formatted email with only the specific questions needed.

The Behavior: The "Generate Quote" button remains disabled (because the form is invalid), but the rep now has a specific next step: Send the RFI.

This turns a "blocking" moment into a "momentum" moment.
Project Requirements Document: Scan2Plan OS (CEO Hub)1. Project OverviewScan2Plan OS is the central "Command Center" for a laser scanning and BIM firm. It is designed for the CEO to manage the project lifecycle from lead injection to production handoff. It acts as the data-processing "Hub" for the companion Scan2Plan Capture (Field App).Primary Objectives:Sales Intelligence: Automate deal probability tracking using "Staleness Metrics."AI Technical Translation: Ingest raw field walkthroughs (from the Field App) and use AI to extract actionable site data.Economic Analysis: Compare "Estimated vs. Actual" (EvA) profitability by syncing Airtable labor logs with Quote JSON data.Workflow Routing: Single-click data pushes to QuickBooks and Airtable.2. System Architecture & "Hub" StrategyThe app is the central node in a three-part ecosystem:Lead Source: GoHighLevel (Webhooks).Data Source: Scan2Plan Capture App (External Mobile App providing Media/Notes).Operations Hub (This App): Processes data and routes to Airtable/QuickBooks.Integration Points:Supabase (Shared DB): Connects to the Field App's database to retrieve walkthrough videos and site checklists.GoHighLevel: Inbound webhooks for new lead creation.Airtable API: Syncs time logs (Incoming) and creates projects/jobs (Outgoing).QuickBooks API: Maps quote line items to SKUs for estimate generation.Google Drive API: Final storage for AI-processed transcripts and site reports.3. Core Features (CEO Command Center)A. Sales State Machine (The Pipeline)Automated Probability Engine: Runs a daily cron job to depreciate probability based on "Staleness Rules" (e.g., -5% if a proposal is stagnant for 14 days).Pipeline Visualizer: A 12-stage Kanban board with visual alerts for "Fresh" vs. "Stale" deals.B. AI Site Intelligence Module (The "Reviewer")The app does NOT record video; it analyzes the video provided by the tech:AI Transcription: Uses Whisper to convert walkthrough audio into text.Technical Spec Extraction: An LLM parses the transcript to auto-populate a "Site Condition Report" (Ceiling heights, obstacles, utilities).Scope Guardrail: AI compares the tech's findings with the Quote JSON to flag potential under-quoting or scope gaps.C. Granular Economic AnalysisReal-Time Margin Tracking: Compares totalClientPrice vs. upteamCost.Labor Actuals (Airtable Sync): Pulls modeling/QC hours from Airtable to calculate real-time "Net Profit" vs. "Quoted Profit."Expense Audit: Compares field expenses (mileage, per diems) against travel quotes.4. Implementation StrategyMVP: GHL Integration + Manual Quote JSON Import + Staleness Logic.AI Layer: Integration with the Field App's storage to run Whisper and LLM analysis on new site data.Finance/Ops: Bidirectional sync with QuickBooks and Airtable for project handoffs.